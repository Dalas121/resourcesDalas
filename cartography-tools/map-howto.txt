= Wesnoth Map Construction HOWTO =

=- Overview ==

This directory contains the resources needed to edit the Wesnoth main
map and variants thereof with the GIMP.

The most important file is great-continent.xcf.  This started out as a
straight conversion of mapmaker Kestenvarn's Photoshop file for the
main map as it existed on 9 Oct 2008 (still here as  bfw-htt-gimp.psd).
XCF is the layered format the GIMP uses for storing images.

The layers contain lots of hidden treasure, including isolated copies
of all the various icons and cartouches and things used to compose the
main map. To edit, hack a layer (you probably should not touch any of
the base maps).  When adding new features, put them in new layers.
Layers are cheap.

The font used for the legends (mostly at 13-point size) is Monotype
Corsiva. We cannot distribute it because it is issued under a
proprietary license, but copies are not hard to find on the Web.  To
fully enable that font in GIMP, copy the downloaded file to your GIMP
fonts directory; this will be something like ~/.gimp-M.N/fonts/, where
M.N is your GIMP version.

To generate maps, simply enable the layers you want and save with the
appropriate file extension.  GIMP will tell you it has to flatten
the layer stack; that's OK.

== Techniques ==

Here's a link to Kestenvarn's tutorial on mapmaking and the associated
forum thread:

http://www.wesnoth.org/forum/viewtopic.php?f=18&t=10131

It assumes Photoshop, but some of the advice transfers to GIMP.

Here's some more GIMP-specific advice on emulating the style of the
main Wesnoth map:

1. Draw your land outline with a hard white brush.

2. Select a width-3 pencil.  Dip it in the bluish-gray color of the
   land-sea border.

3. Select the land region with Select By Color.

4. Use Edit -> Stroke Selection to draw your land-sea border.

5. Fill the sea with a sea color from the main map.  Select it.

6. Drop the pencil width to 1. Shrnking the selection by 5 or 6
   pixels.

7. Edit -> Stroke on selection.  You now have a contour line
   following the coast.

8. Bucket-fill your coastal margin with some color not on the map.

9. Shrink the selection another 5 or 6 pixels and repeat the stroke
   You now have a double tidal contour line.

10. Delete all white and merge the result onto a copy of the plain
   parchment layer.

11. Select the parchment (land) parts and copy them with a new layer.
    Call this "Elevation".

12. Decide where you're going to place your mountains. Draw them
    (or frankenstein them from the main map) onto a new "Topography"
    layer.

13. Stack Topography on top of Elevation; select Elevation foe
    editing.  Use the Burn and Dodge tools to texture the parchment,
    dargening low areas and lightening high ones so they merge
    visually with your mountain bases.

Now you've got your base map.  The rest is pasting bits from old
Forest, swamp, and Workshop layers.

== Brushes ==

In order to install the cartography brushes just dump them into GIMP's brushes directory.

On Linux and similar boxes the path is /usr/share/gimp/2.0/brushes/

On Windows boxes the path is <GIMP install directory>/share/gimp/2.0/brushes/

== Recipes ==

The campaign maps in mainline need slightly varying maps depending on
the date; also, some of them have campaign-specific features.  Here's
a description of the layers of great-continent.xcf used to compose each.

All campaigns (Wesnoth early labels):
   Border
   Border BG
   Wesnoth early labels
   Wesnoth Forests
   Wesnoth Marsh
   Wesnoth topography

All campaigns after 25YW (Wesnoth late labels - this is what's in wesnoth.png):
   Wesnoth late labels
   Wesnoth Human Towns
   Wesnoth Roads

An_Orcish_Incursion (8YW):
   No overlays on this map.

Descent_Into_Darkness (389):
   Wesnoth late labels
   Wesnoth Descent Into Darkness overlay

Eastern_Invasion (625YW):
   Wesnoth late labels
   Wesnoth Eastern Invasion overlay

Heir_To_The_Throne (518YW):
   Wesnoth late labels

Legend_of_Wesmere (12YW):
   Wesnoth early labels
   Wesnoth Legend of Wesmere overlay

Liberty (501YW):
   Wesnoth late labels
   Wesnoth Liberty overlay

Northern_Rebirth (534YW):
   Wesnoth late labels

Sceptre_of_Fire (25YW):
   Wesnoth late labels (this should be fixed -- not all cities would be settled then)

Son_Of_The_Black_Eye (842YW):
   All Layers named "Far North".

The_Hammer_of_Thursagan (550YW):
   Wesnoth late labels

The_Rise_Of_Wesnoth (1YW):
   No overlays.

The_South_Guard (607YW):
   Wesnoth late labels

Two_Brothers (353YW):
   Wesnoth late labels

Under_the_Burning_Suns (??):
   Has no map.

